/*! For license information please see sdk.js.LICENSE.txt */
(()=>{var e={258:(e,o,n)=>{var t,i,r;r=function(){function e(){for(var e=0,o={};e<arguments.length;e++){var n=arguments[e];for(var t in n)o[t]=n[t]}return o}function o(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(t){function i(){}function r(o,n,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},i.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var l=JSON.stringify(n);/^[\{\[]/.test(l)&&(n=l)}catch(e){}n=t.write?t.write(n,o):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),o=encodeURIComponent(String(o)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in r)r[u]&&(a+="; "+u,!0!==r[u]&&(a+="="+r[u].split(";")[0]));return document.cookie=o+"="+n+a}}function l(e,n){if("undefined"!=typeof document){for(var i={},r=document.cookie?document.cookie.split("; "):[],l=0;l<r.length;l++){var a=r[l].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var d=o(a[0]);if(u=(t.read||t)(u,d)||o(u),n)try{u=JSON.parse(u)}catch(e){}if(i[d]=u,e===d)break}catch(e){}}return e?i[e]:i}}return i.set=r,i.get=function(e){return l(e,!1)},i.getJSON=function(e){return l(e,!0)},i.remove=function(o,n){r(o,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))},void 0===(i="function"==typeof(t=r)?t.call(o,n,o,e):t)||(e.exports=i),e.exports=r()},245:(e,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SHOPIFY_TRACKED_EVENTS=o.VALID_EVENT_TRACKING_KEYS=o.LIFTOFF_SHOPIFY_EVENT_PARAMS=o.LIFTOFF_DA_PROPS_KEY=o.LIFTOFF_DEVICE_MODEL=o.LIFTOFF_END_POINT=o.LIFTOFF_CUSTOM_EVENT_PARAMS=o.LIFTOFF_SESSION_ID=o.LIFTOFF_COOKIE_TIMESTAMP_KEY=o.LIFTOFF_EVENT_COUNT_KEY=o.LIFTOFF_REJECTED_KEY=o.LIFTOFF_DEBUG_KEY=o.PARAM_KEYS=o.SDK_VERSION=void 0,o.SDK_VERSION="1.29",o.PARAM_KEYS={TRACKING_TOKEN:"lo_3ptt",GOOGLE_AID:"lo_gaid",IDFA:"lo_idfa",LIFTOFF_USER_ID:"lo_uid",PIXEL_ID:"lo_pid"},o.LIFTOFF_DEBUG_KEY="lo_debug",o.LIFTOFF_REJECTED_KEY="lo_rej",o.LIFTOFF_EVENT_COUNT_KEY="lo_ec",o.LIFTOFF_COOKIE_TIMESTAMP_KEY="lo_cs",o.LIFTOFF_SESSION_ID="lo_sid",o.LIFTOFF_CUSTOM_EVENT_PARAMS="lo_cep",o.LIFTOFF_END_POINT="https://analytics.liftoff.io/pixel/v1",o.LIFTOFF_DEVICE_MODEL="lo_dm",o.LIFTOFF_DA_PROPS_KEY="lo_dap",o.LIFTOFF_SHOPIFY_EVENT_PARAMS="lo_sp",o.VALID_EVENT_TRACKING_KEYS=new Set(["event_name","revenue","currency","product_id","platform"]),o.SHOPIFY_TRACKED_EVENTS=["cart_viewed","checkout_address_info_submitted","checkout_completed","checkout_contact_info_submitted","checkout_shipping_info_submitted","checkout_started","collection_viewed","page_viewed","payment_info_submitted","product_added_to_cart","product_removed_from_cart","product_viewed","search_submitted"]},808:(e,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getDAProperties=void 0,o.getDAProperties=function(){window.DeviceAtlas={cacheType:"local-storage"};var e=function(e){var o={};function n(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=o,n.d=function(e,o,t){n.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,o){if(1&o&&(e=n(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var i in e)n.d(t,i,function(o){return e[o]}.bind(null,i));return t},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},n.p="",n(n.s=21)}([function(e,o,n){o.a=function(e,o){o=o||5381;for(var n=0;n<e.length;n++)o=33*o^e.charCodeAt(n);return String(o>>>0)}},function(e,o,n){o.a=function(e){if(document.createElement)try{var o=document.createElement("video");if(o.canPlayType)switch(o.canPlayType(e)){case"":return!1;case"probably":return!0}}catch(e){}}},function(e,o){e.exports={criticalProperties:["deviceAspectRatio","devicePixelRatio","js.webGlRenderer","screenWidthHeight","rendererRef","audioRef","js.deviceMotion","html.video.ap4x","html.video.av1","html.video.av1016M08","usableDisplayWidth","usableDisplayHeight","_uaVerRef","webGpuMaxBufferSize","animationFrameRate","supportsWebGpu","maxAudioChannelCount","canvasNoise","html.video.av1016M08","usableDisplayWidth","usableDisplayHeight","_uaVerRef","shortestOpTime"]}},function(e,o,n){o.a=function(e,o){if(void 0!==window.matchMedia)for(var n in o)if(window.matchMedia("("+e+":"+o[n]+")").matches)return o[n]+""}},function(e,o,n){o.a=function(){return!!window.CanvasRenderingContext2D}},function(e,o,n){var t,i=n(7),r=n.n(i);o.a=function(){if(void 0!==t)return t;var e=visualViewport.scale,o=document.createElement("div");o.style.cssText="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -9996; display: block;",document.body.insertBefore(o,document.body.firstChild);var n=o.getBoundingClientRect();o.remove();var i=Math.round(n.width*e),l=Math.round(n.height*e);return t=i<l?{width:i,height:l}:{width:l,height:i},r()({},t)}},function(e,o,n){n.r(o),o.default=function(){try{return window.screen.width+"/"+window.screen.height}catch(e){}}},function(e,o){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,o,n){var t={"./_uaVerRef.js":9,"./audioRef.js":10,"./deviceAspectRatio.js":11,"./devicePixelRatio.js":12,"./html.video.ap4x.js":13,"./html.video.av1.js":14,"./html.video.av1016M08.js":15,"./js.deviceMotion.js":16,"./js.webGlRenderer.js":17,"./rendererRef.js":18,"./screenWidthHeight.js":6,"./usableDisplayHeight.js":19,"./usableDisplayWidth.js":20};function i(e){var o=r(e);return n(o)}function r(e){if(!n.o(t,e)){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return t[e]}i.keys=function(){return Object.keys(t)},i.resolve=r,e.exports=i,i.id=8},function(e,o,n){n.r(o),o.default=function(e){if(void 0!==e)return e;var o=navigator.userAgent,n=o.indexOf("Version/");if(-1!==n){var t=n+"Version/".length,i=o.indexOf(" ",t),r=o.slice(t,i),l=parseInt(r,10);if(!Number.isNaN(l))return l}}},function(e,o,n){n.r(o);var t=n(0);o.default=function(e,o){if(void 0!==e)return o(e);var n=null;try{if(!(n=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,44100,44100)))return o();var i=n.createOscillator();i.type="triangle",i.frequency.value=1e4;var r=n.createDynamicsCompressor();r.threshold&&(r.threshold.value=-50),r.knee&&(r.knee.value=40),r.ratio&&(r.ratio.value=12),r.reduction&&(r.reduction.value=-20),r.attack&&(r.attack.value=0),r.release&&(r.release.value=.25),i.connect(r),r.connect(n.destination),i.start(0),n.startRendering(),n.oncomplete=function(e){for(var n=!1,i=0;i<e.renderedBuffer.length;i++)n=Object(t.a)(e.renderedBuffer.getChannelData(0)[i].toString(),n);n&&o(n),r.disconnect()}}catch(e){o()}}},function(e,o,n){n.r(o);var t=n(3),i=n(6);o.default=function(e){if(void 0!==e)return e;var o=["2/3","40/71","3/4","16/9","16/10","375/667","9/16","10/16","375/812","207/448"],n=Object(i.default)();return n&&o.push(n),Object(t.a)("device-aspect-ratio",o)}},function(e,o,n){n.r(o),o.default=function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e+""}},function(e,o,n){n.r(o);var t=n(1);o.default=function(e){return void 0!==e?e:Object(t.a)('video/quicktime; codecs="ap4x"')}},function(e,o,n){n.r(o);var t=n(1);o.default=function(e){return void 0!==e?e:Object(t.a)('video/mp4; codecs="av01.0.05M.08"')}},function(e,o,n){n.r(o);var t=n(1);o.default=function(e){return void 0!==e?e:Object(t.a)('video/mp4; codecs="av01.0.16M.08"')}},function(e,o,n){n.r(o),o.default=function(){return!!window.DeviceMotionEvent}},function(e,o,n){n.r(o);var t=n(4);o.default=function(e){if(void 0!==e)return e;if(Object(t.a)()){var o=document.createElement("canvas"),n=o.getContext("webgl")||o.getContext("experimental-webgl");if(n){var i=n.getExtension("WEBGL_debug_renderer_info");if(i){var r=n.getParameter(i.UNMASKED_RENDERER_WEBGL);if(r)return r}}}}},function(e,o,n){n.r(o);var t=n(4),i=n(3),r=n(0);o.default=function(e){if(void 0!==e)return e;if(Object(t.a)()){var o=document.createElement("canvas"),n=o.getContext("2d"),l="DeviceAtlas";return n.textBaseline="top",n.font="16px 'Arial'",n.textBaseline="alphabetic",n.rotate(.05),n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",n.fillText(l,2,15),n.fillStyle="rgba(102, 200, 0, 0.7)",n.fillText(l,4,17),n.shadowBlur=10,n.shadowColor="blue",n.rotate(-.15),n.fillRect(-20,25,234,5),("p3"===Object(i.a)("color-gamut",["p3"])?"1":"0")+Object(r.a)(o.toDataURL())}}},function(e,o,n){n.r(o);var t=n(5);o.default=function(e){return void 0!==e?e:Object(t.a)().height}},function(e,o,n){n.r(o);var t=n(5);o.default=function(e){return void 0!==e?e:Object(t.a)().width}},function(e,o,n){n.r(o),n.d(o,"cacheProperty",(function(){return N}));var t=n(2),i=n.n(t),r=function(){return void 0===navigator.cookieEnabled&&"string"==typeof document.cookie||!!navigator.cookieEnabled},l=function(){try{return!!localStorage.getItem}catch(e){return!1}},a=n(0),u="._.".length,d=["ch.model","ch.platform","ch.browserList","ch.browserFullVersionList","ch.platformVersion"],c=function(e,o,n){for(var t in void 0===o&&(o=!1),void 0===n&&(n={}),e){var i=o?o+"."+t:t,r=e[t],l=typeof e[t];"object"!==l||Array.isArray(r)?"function"!==l&&"undefined"!==l&&(n[i]=r):c(r,i,n)}return n},v=function(e,o,i){void 0===o&&(o=function(e){void 0===e&&(e=["devicePixelRatio","usableDisplayWidth","usableDisplayHeight","js.deviceMotion","deviceAspectRatio","js.webGlRenderer","screenWidthHeight","rendererRef","audioRef","html.video.ap4x","html.video.av1","html.video.av1016M08","_uaVerRef"]);var o={};e.map((function(e){o[e]=n(8)("./"+e+".js").default}));var i=function(){};return t.criticalProperties.map((function(e){o[e]=o[e]||i})),o}()),void 0===i&&(i=!1);var r=function(n){var t,r=e[n];if(r||!o.hasOwnProperty(n))return 1;var l=o[n],a=l.length<=1;try{t=l(r,(function(e){j.cacheProperty(n,e,r)}),e)}catch(e){j.debug(e)}(i||a)&&j.cacheProperty(n,t,r)};for(var l in o)r(l)},s=(new Date).getTime(),f="undefined"!=typeof window&&window.DeviceAtlas||{},p="function"==typeof f.debug?f.debug:f.debug&&console&&console.log?console.log:function(){},_=f.properties||{},m=f.cacheKey||"DAPROPS",g=f.cookieName||"DAPROPS",h=f.cacheType||"cookie",y=f.criticalProperties||i.a.criticalProperties,b=f.waitMilliSecondsToBulkSendProperties||3e3,O=f.cookieExpiryDays||1,S=f.cacheExpiryDays||1,P=f.dontStopPropertyUpdateEvents||!1,E=void 0!==f.encodeCookieValue&&Boolean(f.encodeCookieValue),I=f.cookieDomain||null,w=f.cookiePath||"/",F="function"==typeof f.onPropertiesUpdate?f.onPropertiesUpdate:function(){},T=!1,k=function(e,o){T&&!P||(F(e,o),T=!0)},D=[],A=!1,x=function(){return(new Date).getTime()-s+"ms"},C=function(){return function(e){var o,n,t="";for(var i in e)e.hasOwnProperty(i)&&"timeTook"!==i&&"S"!==i&&"E"!==i&&(t+=(o="boolean"==typeof(n=e[i])?"b":"number"==typeof n&&n%1==0?"i":"s")+i+":"+("b"===o?e[i]+0:e[i])+"|");return"bS:0|"+t+"bE:0"}(R)},R={csVersion:"2.7.2"},N=function(e,o,n){if(D.push(e),void 0!==o&&null!=o&&o!==n)switch("object"==typeof o?function(e,o,n){var t=c(o,e),i=void 0;for(var r in t)if(void 0!==t[r]){var l=r.indexOf("._.");n[~l?r.substring(l+u):r]=t[r],i=i||!!t[r]}}(e,o,R):R[e]=o,h){case"cookie":!function(e,o){var n=o.cookieName,t=o.cookieExpiryDays,i=o.cookieDomain,l=o.cookiePath,a=o.encodeCookieValue;if(!r())return!1;var u=new Date;u.setDate(u.getDate()+t);var c="";null!=i&&(c=";domain="+i),a&&(e=e.split("|").map((function(e){var o=e.split(":",2),n=o[0].substring(1);return-1===d.indexOf(n)&&(o[1]=encodeURIComponent(o[1])),o.join("%3A")})).join("%7C")),document.cookie=n+'="'+e.replace(/;/g,"~")+'";expires='+u.toUTCString()+";path="+l+c}(C(),{cookieName:g,cookieDomain:I,cookieExpiryDays:O,cookiePath:w,encodeCookieValue:E});break;case"local-storage":!function(e,o,n){if(!l())return!1;var t=(new Date).getTime()+864e5*n;window.localStorage.setItem(o,JSON.stringify({value:e,expiry:t}))}(C(),m,S)}R.timeTook=x(),function(e,o){(function(e,o){if(!Array.isArray(e)||!Array.isArray(o))return!1;for(var n=0;n<e.length;n++)if(!~o.indexOf(e[n]))return!1;return!0})(y,D)&&(A&&(clearTimeout(A),A=!1),k(e,o))}(R,C())},j=o.default={cookieName:g,cookieDomain:I,cookieExpiryDays:O,cookiePath:w,onPropertiesUpdate:F,csVersion:"2.7.2",getPropertiesAsString:C,getProperties:function(){return R},properties:R,debug:p,cacheProperty:N,encodeCookieValue:E},M=!0;try{M=!0}catch(e){}M&&(function(e,o,n,t,i){var u,c,v=(c=navigator.userAgent,"_uaRef"+Object(a.a)(c));i._uaRef=v,("cookie"===e||"local-storage"===e)&&~(u="cookie"===e?function(e){if(!r())return"";for(var o=e+"=",n=document.cookie.split(";"),t=0;t<n.length;t++){for(var i=n[t];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(o)){var l=i.substring(o.length,i.length);'"'===l.charAt(0)&&(l=l.substr(1));var a=l.length-1;return'"'===l[a]&&(l=l.substring(0,a)),l}}return""}(t):function(e){if(!l())return"";var o=window.localStorage.getItem(e);if(!o)return"";var n="";try{n=JSON.parse(o)}catch(o){return localStorage.removeItem(e),""}return(new Date).getTime()>n.expiry?(localStorage.removeItem(e),""):n.value}(o)).indexOf(v)&&function(e,o){if(!e||""===e)return o;for(var n=e.replace(/\%7C/g,"|").split("|"),t=0;t<n.length;t++){var i=n[t],r=i.indexOf("%3A"),l=!0;-1===r&&(l=!1,r=i.indexOf(":"));var a=i.substr(0,1),u=i.substr(1,r-1);if("timeTook"!==u&&"csVersion"!==u){var c=i.substring(r+(l?"%3A".length:":".length));switch(-1===d.indexOf(u)&&(c=decodeURIComponent(c)),a){case"i":o[u]=1*c;break;case"b":o[u]=!!(1*c);break;default:o[u]=c}}}}(u,i)}(h,m,0,g,R),D.push.apply(D,Object.keys(R)),v(R),v(R,_,!0),A=setTimeout((function(){R.timeTook=x(),k(R,C())}),b))}]).default;return e.getPropertiesAsString()}},472:(e,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getDevicePlatform=o.parseTrackingTokenCookie=o.generateRandomID=o.debugPrint=o.isNullOrBlank=void 0,o.isNullOrBlank=function(e){return!e||/^\s*$/.test(e)},o.debugPrint=function(e){var o;if(null===(o=window.lo)||void 0===o?void 0:o.debug){var n=document.getElementById("lo-debug-pane");n||((n=document.createElement("span")).setAttribute("id","lo-debug-pane"),document.body.appendChild(n)),n.textContent+="".concat(e,"\r\n"),n.style.whiteSpace="pre",console.log(e)}},o.generateRandomID=function(){return"".concat((new Date).getTime(),"-").concat(Math.random().toString(36).slice(2))},o.parseTrackingTokenCookie=function(e){var o=/^d\.(\d+)_(.*)$/.exec(e);return o?{cookieTimestamp:o[1],token:o[2]}:{token:e}},o.getDevicePlatform=function(e){return/windows phone/i.test(e)?null:/android/i.test(e)?"android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream||e.includes("Mac")&&"ontouchend"in document?"ios":null}},639:(e,o,n)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.sendRequest=void 0;var t=n(472);o.sendRequest=function(e){var o=new XMLHttpRequest;o.onreadystatechange=function(){var e,n;o.readyState===o.DONE&&(e=o.responseText,n=o.status,(0,t.debugPrint)("Request Status: ".concat(n)),(0,t.debugPrint)("Response: ".concat(e)))},o.open("GET",e,!0),o.withCredentials=!1,o.send(null)}},323:function(e,o,n){"use strict";var t=this&&this.__awaiter||function(e,o,n,t){return new(n||(n=Promise))((function(i,r){function l(e){try{u(t.next(e))}catch(e){r(e)}}function a(e){try{u(t.throw(e))}catch(e){r(e)}}function u(e){var o;e.done?i(e.value):(o=e.value,o instanceof n?o:new n((function(e){e(o)}))).then(l,a)}u((t=t.apply(e,o||[])).next())}))},i=this&&this.__generator||function(e,o){var n,t,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(l=0)),l;)try{if(n=1,t&&(i=2&a[0]?t.return:a[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,a[1])).done)return i;switch(t=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,t=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){l.label=a[1];break}if(6===a[0]&&l.label<i[1]){l.label=i[1],i=a;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(a);break}i[2]&&l.ops.pop(),l.trys.pop();continue}a=o.call(e,l)}catch(e){a=[6,e],t=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(o,"__esModule",{value:!0}),o.executeQueuedCommands=o.initialize=void 0;var r=n(245),l=n(170),a=n(808),u=n(472),d=n(639),c=n(107),v=n(107),s=function(e){var o=window.lo;if(o)if(!o.isShopifyStore||r.SHOPIFY_TRACKED_EVENTS.includes(e.event_name)&&e.shopify_event){var n=new URLSearchParams;if(o.platform&&n.set("platform",o.platform),e.shopify_event){var t=(0,l.parseShopifyData)(e);(0,u.debugPrint)("Shopify params: ".concat(JSON.stringify(t,null,2))),n.set(r.LIFTOFF_SHOPIFY_EVENT_PARAMS,JSON.stringify(t))}for(var i=0,a=Object.entries(e);i<a.length;i++){var c=a[i],s=c[0],f=c[1];r.VALID_EVENT_TRACKING_KEYS.has(s)&&n.set(s,String(f))}for(var p=0,_=Object.entries(o.parsedParams);p<_.length;p++){var m=_[p],g=(s=m[0],f=m[1],String(f));if(s===r.PARAM_KEYS.TRACKING_TOKEN){var h=(0,u.parseTrackingTokenCookie)(g);h.cookieTimestamp&&n.set(r.LIFTOFF_COOKIE_TIMESTAMP_KEY,h.cookieTimestamp),g=h.token}n.set(s,g)}var y=v.getOrCreateSessionID().sessionID;n.set(r.LIFTOFF_SESSION_ID,y),n.set("sdk_version",r.SDK_VERSION),o.rejectedSession&&n.set(r.LIFTOFF_REJECTED_KEY,"true"),o.eventCount||(o.eventCount=0),o.eventCount+=1,n.set(r.LIFTOFF_EVENT_COUNT_KEY,String(o.eventCount)),n.set(r.LIFTOFF_DA_PROPS_KEY,localStorage.getItem(r.LIFTOFF_DA_PROPS_KEY)||"");var b="".concat(r.LIFTOFF_END_POINT,"/").concat(o.pixelID,"/events?").concat(n);(0,u.debugPrint)("Firing postback to hodor: ".concat(b)),(0,d.sendRequest)(b)}else(0,u.debugPrint)("Shopify event not present. Skipping event postback.")};o.initialize=function(e){var o=window.lo;if(o)if(o.initialized)console.warn("Liftoff Pixel already initialized. Skipping initialization.");else{if(o.pixelID="string"==typeof e.pixelID?e.pixelID:o.pixelID,o.platform=(0,u.getDevicePlatform)(navigator.userAgent||navigator.vendor||window.opera||""),o.urlParams=e.urlParams instanceof URLSearchParams?e.urlParams:new URLSearchParams(window.location.search),o.debug=Boolean(o.urlParams.get(r.LIFTOFF_DEBUG_KEY)),o.domain=v.inferTopDomain(window.location.hostname),(0,u.debugPrint)("Inferred domain: ".concat(o.domain)),!localStorage.getItem(r.LIFTOFF_DA_PROPS_KEY)){var n=(0,a.getDAProperties)();localStorage.setItem(r.LIFTOFF_DA_PROPS_KEY,JSON.stringify(n))}(0,u.debugPrint)("Stored values for ".concat(r.LIFTOFF_DA_PROPS_KEY,": ").concat(localStorage.getItem(r.LIFTOFF_DA_PROPS_KEY))),o.parsedParams={};for(var t=0,i=Object.values(r.PARAM_KEYS);t<i.length;t++){var l=i[t];v.debugPrintValues(l);var d=(0,c.loadParam)(o.urlParams,l);d&&(o.parsedParams[l]=d,v.store(l,d))}if(!o.parsedParams[r.PARAM_KEYS.LIFTOFF_USER_ID]){var f=(0,u.generateRandomID)();o.parsedParams[r.PARAM_KEYS.LIFTOFF_USER_ID]=f,v.store(r.PARAM_KEYS.LIFTOFF_USER_ID,f)}var p=o.parsedParams[r.PARAM_KEYS.PIXEL_ID];p&&(o.pixelID=String(p)),o.urlParams.get(r.LIFTOFF_REJECTED_KEY)&&(o.rejectedSession=!0,(0,u.debugPrint)("Incoming click was rejected."));var _=e.analytics;_?(_.subscribe("all_standard_events",(function(o){s({event_name:o.name,shopify_event:o,shopify_init:e.init})})),o.isShopifyStore=!0):o.isShopifyStore=!1,o.initialized=!0,v.getOrCreateSessionID().isNewSession&&s({event_name:"session_started"})}},o.executeQueuedCommands=function(){return t(void 0,void 0,void 0,(function(){var e,o;return i(this,(function(n){if(!(e=window.lo)||!e.callMethod)return[2];for(;e.queue.length;)(o=e.queue.shift())&&e.callMethod.apply(e,o);return[2]}))}))},window.lo&&(window.lo.callMethod=function(e,n){switch(e){case"init":"string"==typeof n?(0,o.initialize)({pixelID:n}):(0,o.initialize)(n);break;case"track":"string"!=typeof n&&s(n);break;default:console.error('Command "'.concat(e,'" not found.'))}},(0,o.executeQueuedCommands)(),window.lo.loaded=!0)},170:function(e,o){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var o,n=1,t=arguments.length;n<t;n++)for(var i in o=arguments[n])Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);return e},n.apply(this,arguments)};function t(e,o,n){void 0!==n&&(e[o]=n)}function i(e){return"number"==typeof e?Math.round(1e6*e):null}function r(e){var o,n,t,r,l,a,u,d,c,v,s,f,p;return{variantId:null===(o=null==e?void 0:e.variant)||void 0===o?void 0:o.id,variantTitle:null===(n=null==e?void 0:e.variant)||void 0===n?void 0:n.title,price_micros:i(null===(r=null===(t=null==e?void 0:e.variant)||void 0===t?void 0:t.price)||void 0===r?void 0:r.amount),currencyCode:null!==(u=null===(a=null===(l=null==e?void 0:e.variant)||void 0===l?void 0:l.price)||void 0===a?void 0:a.currencyCode)&&void 0!==u?u:null,product:null!==(c=null===(d=null==e?void 0:e.variant)||void 0===d?void 0:d.product)&&void 0!==c?c:null,quantity:null==e?void 0:e.quantity,sellingPlanId:null!==(f=null===(s=null===(v=null==e?void 0:e.sellingPlanAllocation)||void 0===v?void 0:v.sellingPlan)||void 0===s?void 0:s.id)&&void 0!==f?f:null,properties:null!==(p=null==e?void 0:e.properties)&&void 0!==p?p:null}}function l(e){var o,n,t,r;return{variantId:null==e?void 0:e.id,variantTitle:null==e?void 0:e.title,price_micros:i(null===(o=null==e?void 0:e.price)||void 0===o?void 0:o.amount),currencyCode:null!==(t=null===(n=null==e?void 0:e.price)||void 0===n?void 0:n.currencyCode)&&void 0!==t?t:null,product:null!==(r=null==e?void 0:e.product)&&void 0!==r?r:null,quantity:1,sellingPlanId:null,properties:null}}function a(e){var o,n,t,r,l,a,u,d,c;return{variantId:null===(o=null==e?void 0:e.merchandise)||void 0===o?void 0:o.id,variantTitle:null===(n=null==e?void 0:e.merchandise)||void 0===n?void 0:n.title,price_micros:i(null===(r=null===(t=null==e?void 0:e.merchandise)||void 0===t?void 0:t.price)||void 0===r?void 0:r.amount),currencyCode:null!==(u=null===(a=null===(l=null==e?void 0:e.merchandise)||void 0===l?void 0:l.price)||void 0===a?void 0:a.currencyCode)&&void 0!==u?u:null,product:null!==(c=null===(d=null==e?void 0:e.merchandise)||void 0===d?void 0:d.product)&&void 0!==c?c:null,quantity:null==e?void 0:e.quantity,sellingPlanId:null,properties:null}}function u(e,o){var t,i,r,l,a,u,d,c,v,s,f,p,_,m,g;void 0===o&&(o={});var h={id:null!==(i=null===(t=e.product)||void 0===t?void 0:t.id)&&void 0!==i?i:null,variant_id:null!==(r=e.variantId)&&void 0!==r?r:null,variant_title:null!==(l=e.variantTitle)&&void 0!==l?l:null,title:null!==(u=null===(a=e.product)||void 0===a?void 0:a.title)&&void 0!==u?u:null,type:null!==(c=null===(d=e.product)||void 0===d?void 0:d.type)&&void 0!==c?c:null,price_micros:null!==(v=e.price_micros)&&void 0!==v?v:null,quantity:null!==(s=e.quantity)&&void 0!==s?s:1,currency_code:null!==(f=e.currencyCode)&&void 0!==f?f:null,vendor:null!==(_=null===(p=e.product)||void 0===p?void 0:p.vendor)&&void 0!==_?_:null,selling_plan:null!==(m=e.sellingPlanId)&&void 0!==m?m:null,properties:null!==(g=e.properties)&&void 0!==g?g:null};return n(n({},h),o)}Object.defineProperty(o,"__esModule",{value:!0}),o.parseShopifyData=void 0,o.parseShopifyData=function(e){var o,n,d,c,v,s,f,p,_,m,g,h,y,b,O,S,P,E,I,w,F,T,k,D,A,x,C,R,N,j,M,L,K,V,Y,U,B,q,G,z,H,J,W,Q,X,$,Z,ee,oe,ne,te,ie,re,le,ae,ue,de,ce,ve,se,fe,pe,_e,me,ge,he,ye,be,Oe,Se,Pe,Ee,Ie,we,Fe,Te,ke,De,Ae,xe,Ce,Re,Ne,je,Me,Le={};if(e.shopify_event){var Ke=e.shopify_event,Ve=Ke.id,Ye=Ke.clientId,Ue=Ke.seq,Be=Ke.type,qe=Ke.context,Ge=Ke.data;!function(e,o){for(var n=0,i=Object.entries(o);n<i.length;n++){var r=i[n];t(e,r[0],r[1])}}(Le,{id:Ve,client_id:Ye,seq:Ue,type:null==Be?void 0:Be.toUpperCase(),url:null===(n=null===(o=null==qe?void 0:qe.document)||void 0===o?void 0:o.location)||void 0===n?void 0:n.href,character_set:null===(d=null==qe?void 0:qe.document)||void 0===d?void 0:d.characterSet,referrer:null===(c=null==qe?void 0:qe.document)||void 0===c?void 0:c.referrer,title:null===(v=null==qe?void 0:qe.document)||void 0===v?void 0:v.title,cookie_enabled:null===(s=null==qe?void 0:qe.navigator)||void 0===s?void 0:s.cookieEnabled,language:null===(f=null==qe?void 0:qe.navigator)||void 0===f?void 0:f.language,languages:null===(p=null==qe?void 0:qe.navigator)||void 0===p?void 0:p.languages,screen_height:null===(m=null===(_=null==qe?void 0:qe.window)||void 0===_?void 0:_.screen)||void 0===m?void 0:m.height,screen_width:null===(h=null===(g=null==qe?void 0:qe.window)||void 0===g?void 0:g.screen)||void 0===h?void 0:h.width,search_query:null===(y=null==Ge?void 0:Ge.searchResult)||void 0===y?void 0:y.query,collection_id:null===(b=null==Ge?void 0:Ge.collection)||void 0===b?void 0:b.id,collection_title:null===(O=null==Ge?void 0:Ge.collection)||void 0===O?void 0:O.title,customer_id:null===(E=null===(P=null===(S=null==Ge?void 0:Ge.checkout)||void 0===S?void 0:S.order)||void 0===P?void 0:P.customer)||void 0===E?void 0:E.id,cart_id:null===(I=null==Ge?void 0:Ge.cart)||void 0===I?void 0:I.id,cart_total_amount_micros:i(null===(T=null===(F=null===(w=null==Ge?void 0:Ge.cart)||void 0===w?void 0:w.cost)||void 0===F?void 0:F.totalAmount)||void 0===T?void 0:T.amount),cart_total_currency_code:null===(A=null===(D=null===(k=null==Ge?void 0:Ge.cart)||void 0===k?void 0:k.cost)||void 0===D?void 0:D.totalAmount)||void 0===A?void 0:A.currencyCode,order_id:null===(C=null===(x=null==Ge?void 0:Ge.checkout)||void 0===x?void 0:x.order)||void 0===C?void 0:C.id,billing_city:null===(N=null===(R=null==Ge?void 0:Ge.checkout)||void 0===R?void 0:R.billingAddress)||void 0===N?void 0:N.city,billing_province:null===(M=null===(j=null==Ge?void 0:Ge.checkout)||void 0===j?void 0:j.billingAddress)||void 0===M?void 0:M.province,billing_province_code:null===(K=null===(L=null==Ge?void 0:Ge.checkout)||void 0===L?void 0:L.billingAddress)||void 0===K?void 0:K.provinceCode,billing_country:null===(Y=null===(V=null==Ge?void 0:Ge.checkout)||void 0===V?void 0:V.billingAddress)||void 0===Y?void 0:Y.country,billing_country_code:null===(B=null===(U=null==Ge?void 0:Ge.checkout)||void 0===U?void 0:U.billingAddress)||void 0===B?void 0:B.countryCode,shipping_city:null===(G=null===(q=null==Ge?void 0:Ge.checkout)||void 0===q?void 0:q.shippingAddress)||void 0===G?void 0:G.city,shipping_province:null===(H=null===(z=null==Ge?void 0:Ge.checkout)||void 0===z?void 0:z.shippingAddress)||void 0===H?void 0:H.province,shipping_province_code:null===(W=null===(J=null==Ge?void 0:Ge.checkout)||void 0===J?void 0:J.shippingAddress)||void 0===W?void 0:W.provinceCode,shipping_country:null===(X=null===(Q=null==Ge?void 0:Ge.checkout)||void 0===Q?void 0:Q.shippingAddress)||void 0===X?void 0:X.country,shipping_country_code:null===(Z=null===($=null==Ge?void 0:Ge.checkout)||void 0===$?void 0:$.shippingAddress)||void 0===Z?void 0:Z.countryCode,discounts_amount_micros:i(null===(oe=null===(ee=null==Ge?void 0:Ge.checkout)||void 0===ee?void 0:ee.discountsAmount)||void 0===oe?void 0:oe.amount),discounts_currency_code:null===(te=null===(ne=null==Ge?void 0:Ge.checkout)||void 0===ne?void 0:ne.discountsAmount)||void 0===te?void 0:te.currencyCode,shipping_amount_micros:i(null===(le=null===(re=null===(ie=null==Ge?void 0:Ge.checkout)||void 0===ie?void 0:ie.shippingLine)||void 0===re?void 0:re.price)||void 0===le?void 0:le.amount),shipping_currency_code:null===(de=null===(ue=null===(ae=null==Ge?void 0:Ge.checkout)||void 0===ae?void 0:ae.shippingLine)||void 0===ue?void 0:ue.price)||void 0===de?void 0:de.currencyCode,subtotal_amount_micros:i(null===(ve=null===(ce=null==Ge?void 0:Ge.checkout)||void 0===ce?void 0:ce.subtotalPrice)||void 0===ve?void 0:ve.amount),subtotal_currency_code:null===(fe=null===(se=null==Ge?void 0:Ge.checkout)||void 0===se?void 0:se.subtotalPrice)||void 0===fe?void 0:fe.currencyCode,tax_amount_micros:i(null===(_e=null===(pe=null==Ge?void 0:Ge.checkout)||void 0===pe?void 0:pe.totalTax)||void 0===_e?void 0:_e.amount),tax_currency_code:null===(ge=null===(me=null==Ge?void 0:Ge.checkout)||void 0===me?void 0:me.totalTax)||void 0===ge?void 0:ge.currencyCode,total_amount:"checkout_completed"===e.event_name?null===(ye=null===(he=null==Ge?void 0:Ge.checkout)||void 0===he?void 0:he.totalPrice)||void 0===ye?void 0:ye.amount:null,total_amount_micros:"checkout_completed"===e.event_name?i(null===(Oe=null===(be=null==Ge?void 0:Ge.checkout)||void 0===be?void 0:be.totalPrice)||void 0===Oe?void 0:Oe.amount):null,total_currency_code:"checkout_completed"===e.event_name?null===(Pe=null===(Se=null==Ge?void 0:Ge.checkout)||void 0===Se?void 0:Se.totalPrice)||void 0===Pe?void 0:Pe.currencyCode:null,localization_country:null===(Ee=null==Ge?void 0:Ge.localization)||void 0===Ee?void 0:Ee.country,localization_language:null===(Ie=null==Ge?void 0:Ge.localization)||void 0===Ie?void 0:Ie.language,is_first_order:null===(Te=null===(Fe=null===(we=null==Ge?void 0:Ge.checkout)||void 0===we?void 0:we.order)||void 0===Fe?void 0:Fe.customer)||void 0===Te?void 0:Te.isFirstOrder,token:null===(ke=null==Ge?void 0:Ge.checkout)||void 0===ke?void 0:ke.token}),Le.products=function(e){for(var o,n,t,i,d,c=[],v=0,s=[{items:null===(o=null==e?void 0:e.checkout)||void 0===o?void 0:o.lineItems,unwrap:r},{items:null===(n=null==e?void 0:e.searchResult)||void 0===n?void 0:n.productVariants,unwrap:l,overrides:{quantity:1}},{items:null===(t=null==e?void 0:e.collection)||void 0===t?void 0:t.productVariants,unwrap:l,overrides:{quantity:1}},{items:null==e?void 0:e.productVariant,unwrap:l,overrides:{quantity:1}},{items:null===(i=null==e?void 0:e.cart)||void 0===i?void 0:i.lines,unwrap:a},{items:null==e?void 0:e.cartLine,unwrap:a}];v<s.length;v++)for(var f=s[v],p=f.items,_=f.unwrap,m=f.overrides,g=0,h=null==(d=p)?[]:Array.isArray(d)?d:[d];g<h.length;g++){var y=h[g];c.push(u(_(y),m))}return c}(Ge),Array.isArray(null===(De=null==Ge?void 0:Ge.checkout)||void 0===De?void 0:De.transactions)&&(Le.transactions=Ge.checkout.transactions.map((function(e){var o,n,t;return{amount_micros:i(null===(o=null==e?void 0:e.amount)||void 0===o?void 0:o.amount),currency_code:null===(n=null==e?void 0:e.amount)||void 0===n?void 0:n.currencyCode,gateway:null==e?void 0:e.gateway,payment_method:null===(t=null==e?void 0:e.paymentMethod)||void 0===t?void 0:t.type}})))}return e.shopify_init&&((null==(Ge=e.shopify_init.data)?void 0:Ge.customer)&&t(Le,"customer_id",Ge.customer.id),Le.cart_id||t(Le,"cart_id",null===(Ae=null==Ge?void 0:Ge.cart)||void 0===Ae?void 0:Ae.id),Le.cart_total_amount_micros||t(Le,"cart_total_amount_micros",i(null===(Re=null===(Ce=null===(xe=null==Ge?void 0:Ge.cart)||void 0===xe?void 0:xe.cost)||void 0===Ce?void 0:Ce.totalAmount)||void 0===Re?void 0:Re.amount)),Le.cart_total_currency_code||t(Le,"cart_total_currency_code",null===(Me=null===(je=null===(Ne=null==Ge?void 0:Ge.cart)||void 0===Ne?void 0:Ne.cost)||void 0===je?void 0:je.totalAmount)||void 0===Me?void 0:Me.currencyCode)),Le}},107:(e,o,n)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getOrCreateSessionID=o.loadParam=o.debugPrintValues=o.read=o.store=o.inferTopDomain=void 0;var t=n(258),i=n(245),r=n(472),l="lo_di";o.inferTopDomain=function(e){for(var o=e.split("."),n=o.length-1;n>=0;n--){var i=o.slice(n).join(".");if(t.set(l,"1",{domain:i}),t.get(l))return t.remove(l,{domain:i}),i}return e};var a=function(e){return t.get(e)||null};o.store=function(e,o){o&&(function(e,o){var n=window.lo;if(n){var i=new Date(Date.now()+31536e6);t.set(e,o,{expires:i,domain:n.domain})}}(e,o),localStorage.setItem(e,o))},o.read=function(e){var o=a(e);return(0,r.isNullOrBlank)(o)?(o=localStorage.getItem(e),(0,r.isNullOrBlank)(o)?null:o):o},o.debugPrintValues=function(e){(0,r.debugPrint)('Stored values for "'.concat(e,'":')),(0,r.debugPrint)(" - Cookie: ".concat(a(e))),(0,r.debugPrint)(" - Local Storage: ".concat(localStorage.getItem(e))),(0,r.debugPrint)(" - Session Storage: ".concat(sessionStorage.getItem(e)))},o.loadParam=function(e,n){var t=e.get(n);return(0,r.isNullOrBlank)(t)?(0,o.read)(n):((0,r.debugPrint)('New incoming value for "'.concat(n,'": ').concat(t)),n===i.PARAM_KEYS.TRACKING_TOKEN?"d.".concat((new Date).getTime(),"_").concat(t):t)},o.getOrCreateSessionID=function(){var e=sessionStorage.getItem(i.LIFTOFF_SESSION_ID);return e?{sessionID:e,isNewSession:!1}:(e=(0,r.generateRandomID)(),sessionStorage.setItem(i.LIFTOFF_SESSION_ID,e),{sessionID:e,isNewSession:!0})}}},o={};!function n(t){var i=o[t];if(void 0!==i)return i.exports;var r=o[t]={exports:{}};return e[t].call(r.exports,r,r.exports,n),r.exports}(323)})();